!function(e,n,b){function h(a){var c=b(d).find('input[type="submit"]')[0];if(/^([a-z]{2,3})(?:[ _\-]([A-Z]{2}))?$/i.exec(a))return a=RegExp.$1.toLowerCase(),RegExp.$2&&(a+="_"+RegExp.$2.toUpperCase()),c.disabled=!1,a;c.disabled=!0}function k(a){function c(a,c,b){console.error(b||"FAIL");p(b||q("Unknown error"))}f("");return b.ajax({url:r,type:"POST",data:{action:"loco-data",locale:a},dataType:"json",error:c,success:function(b,d,e){var g=b&&b.locales&&b.locales[a];if(!g)return c(e,d,b&&b.error&&b.error.message);
f(g.region?g.icon:"")}})}function f(a){var c=b(d).find("span.flag");c[a?"show":"hide"]();c.each(function(b,c){c.className=a||"flag"})}var l=e.loco,q=l.t,p=l.showError,r=e.ajaxurl||"/wp-admin/admin-ajax.php",d=n.getElementById("loco-msginit"),m=d["custom-locale"];b(d["common-locale"]).change(function(){var a=h(m.value=b(this).val());a&&k(a);return!0});b(m).bind("input",function(a){(a=h(a.target.value))&&k(a);return!0});f("")}(window,document,window.jQuery);